{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "VES-CONTRACT-1 Test Vectors",
  "description": "Test vectors for VES-CONTRACT-1 smart contract integration",
  "version": "1.0.0",
  "test_cases": {
    "ves_proof": {
      "description": "VES Merkle inclusion proof test vectors",
      "vectors": [
        {
          "name": "valid_delivery_proof",
          "input": {
            "event": {
              "event_id": "evt_delivery_001",
              "event_type": "DeliveryConfirmed",
              "entity_type": "Order",
              "entity_id": "ORD-2025-001234",
              "version": 3,
              "payload": {
                "confirmedBy": "buyer",
                "confirmedAt": "2025-01-15T14:30:00Z",
                "signedBy": "Alice Smith",
                "condition": "good"
              },
              "timestamp": "2025-01-15T14:30:00Z"
            },
            "merkle_tree": {
              "events_in_tree": 100,
              "event_index": 42
            }
          },
          "expected": {
            "event_hash": "0x7f8c9d2e1a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d",
            "payload_hash": "0x9f8e7d6c5b4a39281706f5e4d3c2b1a09f8e7d6c5b4a39281706f5e4d3c2b1a0",
            "merkle_root": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "proof_valid": true,
            "proof_path_length": 7
          }
        },
        {
          "name": "invalid_merkle_proof",
          "input": {
            "event_hash": "0x7f8c9d2e1a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d",
            "merkle_root": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "proof_path": [
              {
                "position": "right",
                "hash": "0xaabbccdd11223344aabbccdd11223344aabbccdd11223344aabbccdd11223344"
              },
              {
                "position": "left",
                "hash": "0x0000000000000000000000000000000000000000000000000000000000000000"
              }
            ]
          },
          "expected": {
            "proof_valid": false,
            "error": "MERKLE_ROOT_MISMATCH"
          }
        },
        {
          "name": "event_hash_calculation",
          "input": {
            "event_type": "OrderCreated",
            "entity_type": "Order",
            "entity_id": "ORD-2025-001234",
            "payload_hash": "0x9f8e7d6c5b4a39281706f5e4d3c2b1a09f8e7d6c5b4a39281706f5e4d3c2b1a0",
            "timestamp": "2025-01-15T10:00:00Z"
          },
          "expected": {
            "event_hash": "0x3d2c1b0a9f8e7d6c5b4a39281706f5e4d3c2b1a09f8e7d6c5b4a39281706f5e4",
            "hash_algorithm": "sha256",
            "input_encoding": "canonical_json"
          }
        }
      ]
    },
    "escrow": {
      "description": "Escrow contract test vectors",
      "vectors": [
        {
          "name": "create_escrow",
          "input": {
            "escrow_id": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "buyer": "AaL1ceWa11etAddress111111111111111111111111",
            "seller": "B0bSe11erWa11etAddress11111111111111111111",
            "token_mint": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
            "amount": "100000000",
            "release_conditions": {
              "event_type": "DeliveryConfirmed",
              "entity_type": "Order",
              "entity_id": "ORD-2025-001234"
            },
            "timeout_seconds": 604800
          },
          "expected": {
            "status": "active",
            "escrow_pda": "Escr0wPDAAddress111111111111111111111111111",
            "vault_pda": "Vau1tPDAAddress1111111111111111111111111111",
            "timeout_at": "2025-01-22T10:00:00Z"
          }
        },
        {
          "name": "release_escrow_valid_proof",
          "input": {
            "escrow_id": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "ves_proof": {
              "event_hash": "0x7f8c9d2e1a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d",
              "event_type": "DeliveryConfirmed",
              "entity_type": "Order",
              "entity_id": "ORD-2025-001234",
              "merkle_root": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
              "proof_path_valid": true
            }
          },
          "expected": {
            "result": "success",
            "new_status": "released",
            "seller_receives": "100000000",
            "release_tx": "5KtPx..."
          }
        },
        {
          "name": "release_escrow_wrong_event_type",
          "input": {
            "escrow_id": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "ves_proof": {
              "event_type": "OrderShipped",
              "entity_type": "Order",
              "entity_id": "ORD-2025-001234"
            }
          },
          "expected": {
            "result": "error",
            "error_code": "EVENT_TYPE_MISMATCH",
            "error_message": "Expected DeliveryConfirmed, got OrderShipped"
          }
        },
        {
          "name": "release_escrow_wrong_entity",
          "input": {
            "escrow_id": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "ves_proof": {
              "event_type": "DeliveryConfirmed",
              "entity_type": "Order",
              "entity_id": "ORD-2025-005678"
            }
          },
          "expected": {
            "result": "error",
            "error_code": "ENTITY_MISMATCH",
            "error_message": "Expected ORD-2025-001234, got ORD-2025-005678"
          }
        },
        {
          "name": "refund_expired_escrow",
          "input": {
            "escrow_id": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "current_time": "2025-01-25T10:00:00Z",
            "timeout_at": "2025-01-22T10:00:00Z"
          },
          "expected": {
            "result": "success",
            "new_status": "refunded",
            "buyer_receives": "100000000"
          }
        },
        {
          "name": "refund_before_timeout",
          "input": {
            "escrow_id": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "current_time": "2025-01-20T10:00:00Z",
            "timeout_at": "2025-01-22T10:00:00Z"
          },
          "expected": {
            "result": "error",
            "error_code": "ESCROW_NOT_EXPIRED",
            "error_message": "Cannot refund before timeout"
          }
        }
      ]
    },
    "anchor_commitment": {
      "description": "VES Anchor commitment test vectors",
      "vectors": [
        {
          "name": "anchor_root_update",
          "input": {
            "tenant_id": "0x550e8400e29b41d4a716446655440000",
            "store_id": "0x6ba7b8109dad11d180b400c04fd430c8",
            "previous_root": "0x0000000000000000000000000000000000000000000000000000000000000000",
            "new_root": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
            "sequence_number": 100
          },
          "expected": {
            "tenant_pda": "TenantPDAAddress11111111111111111111111111",
            "update_valid": true,
            "new_sequence": 100
          }
        },
        {
          "name": "anchor_root_invalid_sequence",
          "input": {
            "tenant_id": "0x550e8400e29b41d4a716446655440000",
            "current_sequence": 100,
            "submitted_sequence": 99
          },
          "expected": {
            "result": "error",
            "error_code": "INVALID_SEQUENCE",
            "error_message": "Sequence must be greater than current"
          }
        }
      ]
    }
  },
  "implementation_notes": {
    "solana_program_id": "VESContract11111111111111111111111111111111",
    "merkle_hash_function": "sha256",
    "signature_scheme": "ed25519",
    "token_standard": "spl-token"
  }
}
